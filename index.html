<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Olalekan Aleem — Interactive PDF (3D FlipBook)</title>
  <meta name="description" content="Interactive flipbook viewer powered by 3D FlipBook jQuery plugin."/>
  <meta name="theme-color" content="#0f1115"/>

  <!-- Page styles -->
  <style>
    :root{
      --bg:#0f1115; --fg:#e8e8ea; --muted:#9aa0a6; --line:#23283a;
      --card:#141a24; --brand:#6ee7ff; --brand2:#a78bfa;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; background:linear-gradient(180deg,#0b0e13 0%,#0f1115 18%,#101319 100%);
      color:var(--fg); font:15px/1.55 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    header{
      position:sticky; top:0; z-index:10; border-bottom:1px solid var(--line);
      background:rgba(15,17,21,.72); backdrop-filter:saturate(140%) blur(8px);
    }
    .shell{max-width:1200px; margin:0 auto; padding:0 18px}
    .bar{display:flex; gap:12px; align-items:center; justify-content:space-between; padding:14px 0}
    h1{margin:0; font-size:16px}
    .sub{margin:0; color:var(--muted); font-size:12px}
    .actions{display:flex; gap:10px; flex-wrap:wrap}
    .btn{
      border:1px solid var(--line); background:var(--card); color:var(--fg);
      padding:9px 12px; border-radius:12px; text-decoration:none; font-weight:600; font-size:14px;
      display:inline-flex; gap:8px; align-items:center; transition:.2s transform,.2s background;
    }
    .btn:hover{transform:translateY(-1px); background:#1a2030}
    .btn.brand{border-color:transparent; background:linear-gradient(90deg,var(--brand),var(--brand2)); color:#081018}

    main{padding:18px 0}
    .panel{
      background:rgba(20,26,36,.9); border:1px solid var(--line); border-radius:16px; overflow:hidden;
      min-height:60vh;
    }
    #flipbookContainer{width:100%; height:78vh; min-height:520px}
    .note{color:var(--muted); font-size:13px; margin:12px 0 0}
    footer{color:var(--muted); border-top:1px solid var(--line); text-align:center; padding:12px 0 30px; font-size:12px}

    /* Small screens: give more height */
    @media (max-width:860px){
      #flipbookContainer{height:86vh}
    }
  </style>

  <!-- jQuery (required by the plugin) -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>

  <!-- 3D FlipBook assets (CSS + JS + dependencies) -->
  <!-- The plugin includes its own PDF.js/Three.js copies via CDN build below -->
  <link href="https://cdn.jsdelivr.net/npm/3d-flip-book@1.7.0/dist/css/flipbook.min.css" rel="stylesheet"/>
  <script src="https://cdn.jsdelivr.net/npm/3d-flip-book@1.7.0/dist/js/flipbook.min.js"></script>
  <!-- If your browser console says it needs pdf/three workers separately, uncomment these lines:
  <script src="https://cdn.jsdelivr.net/npm/3d-flip-book@1.7.0/dist/js/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/3d-flip-book@1.7.0/dist/js/pdf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/3d-flip-book@1.7.0/dist/js/pdf.worker.min.js"></script>
  -->
  <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>

  <!-- 3D FlipBook assets (CSS + JS + dependencies) -->
  <link href="https://cdn.jsdelivr.net/npm/3d-flip-book@1.7.0/dist/css/flipbook.min.css" rel="stylesheet"/>
  
  <!-- Load dependencies manually -->
  <script src="https://cdn.jsdelivr.net/npm/3d-flip-book@1.7.0/dist/js/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/3d-flip-book@1.7.0/dist/js/pdf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/3d-flip-book@1.7.0/dist/js/pdf.worker.min.js"></script>
  
  <!-- Then load the main FlipBook plugin -->
  <script src="https://cdn.jsdelivr.net/npm/3d-flip-book@1.7.0/dist/js/flipbook.min.js"></script>
</head>
<body>
  <header>
    <div class="shell">
      <div class="bar">
        <div>
          <h1>Olalekan Aleem — Interactive Portfolio</h1>
          <p class="sub">3D page-flip viewer • Zoom • Fullscreen • Mobile friendly</p>
        </div>
        <div class="actions">
          <a id="openBtn" class="btn brand" href="#" target="_blank" rel="noopener">Open PDF</a>
          <a id="downloadBtn" class="btn" href="#" download>Download</a>
        </div>
      </div>
    </div>
  </header>

  <main class="shell">
    <div class="panel">
      <div id="flipbookContainer"></div>
    </div>
    <p class="note">
      If the flipbook doesn’t render (older mobile browsers), use <b>Open PDF</b> or <b>Download</b>.
    </p>
  </main>

  <footer>
    © <span id="y"></span> Olalekan Aleem • Hosted on GitHub Pages
  </footer>

  <script>
    // ====== CONFIG: set your file name here ======
    const PDF_FILE = 'portfolio.pdf'; // e.g. 'Olalekan PDF Portfolio.pdf'

    const safeURL = encodeURI(PDF_FILE);
    document.getElementById('y').textContent = new Date().getFullYear();
    document.getElementById('openBtn').href = safeURL;
    document.getElementById('downloadBtn').href = safeURL;

    // ====== Init 3D FlipBook ======
    // Basic options: auto-resolution, responsive, shadows, controls, etc.
    function initFlipBook() {
      try {
        $('#flipbookContainer').FlipBook({
          pdf: safeURL,
          // Appearance
          skin: 'light',                   // or 'dark'
          backgroundColor: '#0f1115',
          // Controls
          controlsProps: {
            downloadURL: safeURL,          // built-in download button
            enableSearch: true,
            pageNumberBox: true,
            zoomIn: true, zoomOut: true, zoomMax: 4,
            tableOfContent: false,
            share: false,
            sounds: false
          },
          // Book
          propertiesCallback: function (props) {
            props.page.depth = 8;          // page thickness
            props.cover.padding = 0;
            return props;
          },
          // Viewer
          template: {
            html: 'https://cdn.jsdelivr.net/npm/3d-flip-book@1.7.0/dist/templates/default-book-view.html',
            styles: [
              'https://cdn.jsdelivr.net/npm/3d-flip-book@1.7.0/dist/css/flipbook.min.css'
            ],
            script: 'https://cdn.jsdelivr.net/npm/3d-flip-book@1.7.0/dist/js/flipbook.min.js',
            sounds: null
          },
          // Behaviour
          mobile: true,
          responsive: true,
          minZoom: 0.9,
          startPage: 1
        });
      } catch (e) {
        console.error('FlipBook init error:', e);
        // Graceful fallback
        document.getElementById('flipbookContainer').innerHTML =
          '<div style="padding:18px;color:#e8e8ea">Unable to load the 3D FlipBook in this browser. ' +
          'Please use the buttons above to view or download the PDF.</div>';
      }
    }

    // Wait for jQuery and DOM
    if (window.jQuery) {
      $(function(){ initFlipBook(); });
    } else {
      document.addEventListener('DOMContentLoaded', initFlipBook);
    }
  </script>
</body>
</html>
